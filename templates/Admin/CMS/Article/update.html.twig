{% extends 'Admin/CMS/base.html.twig' %}
{% form_theme form 'Admin/Layout/Form/tailwind_layout.html.twig' %}

{% block body %}
    <div class="flex flex-col w-0 flex-1 overflow-hidden">
        <div class="md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3">
            <button class="-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
                <span class="sr-only">Open sidebar</span>
                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>

        <div class="py-6">
            <div class="max-w-12xl mx-auto px-4 sm:px-6 lg:px-8">
                {% include "Admin/Layout/_flashes.html.twig" %}

                <div class="sm:rounded-md">
                    <div class="px-4 py-5 border-b border-gray-200 sm:px-6 bg-gray-50">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">
                            {{ 'admin.cms.ui.article.update.title'|trans }}
                        </h3>
                    </div>
                </div>

                {{ form_start(form) }}
                <div class="flex p-3">
                    <div class="flex-grow">
                        {{ form_row(form.name) }}
                        {{ form_row(form.slug) }}
                        {{ form_row(form.content) }}
                    </div>

                    <div class="flex-none w-1/6 px-6">
                        {{ form_row(form.categories) }}
                        {{ form_row(form.spaces) }}

                        <div class="pt-6">
                            <button
                                type="submit"
                                class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                {{ 'admin.cms.ui.article.update.actions.save'|trans }}
                            </button>

                            {% if article.status is constant('Mono\\Component\\Article\\Domain\\Enum\\StatusEnum::DRAFT') %}
                                <a href="{{ url(constant('App\\UI\\Admin\\Controller\\Routes::ADMIN_CMS_ARTICLES_PUBLISH')['name'], {'identifier': article.identifier }) }}"
                                   class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                    {{ 'admin.cms.ui.article.update.actions.publish'|trans }}
                                </a>
                            {% else %}
                                <a href="{{ url(constant('App\\UI\\Admin\\Controller\\Routes::ADMIN_CMS_ARTICLES_UNPUBLISH')['name'], {'identifier': article.identifier }) }}"
                                   class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                    {{ 'admin.cms.ui.article.update.actions.unpublish'|trans }}
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}
